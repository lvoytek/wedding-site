<form class="rsvp-form" [formGroup]="rsvpForm" (ngSubmit)="onSubmit()">
	<div>
		<mat-form-field>
			<mat-label>First name</mat-label>
			<input matInput type="text" formControlName="firstName">
		</mat-form-field>

		<mat-form-field>
			<mat-label>Last name</mat-label>
			<input matInput type="text" formControlName="lastName">
		</mat-form-field>

		<mat-form-field>
			<mat-label>Email</mat-label>
			<input matInput type="email" formControlName="email">
		</mat-form-field>

		<mat-form-field>
			<mat-label>Dietary Restrictions</mat-label>
			<textarea matInput formControlName="dietaryRestrictions"></textarea>
		</mat-form-field>

		<mat-checkbox formControlName="attending">
			Attending
		</mat-checkbox>
	</div>


	<div formArrayName="guests">
		<h2>Guests</h2>
		<button type="button" (click)="addGuest()">+ Add another guest</button>

		<div *ngFor="let guest of guests; let i = index">
			<form [formGroup]="guest">
				<mat-form-field>
					<mat-label>First name</mat-label>
					<input matInput type="text" formControlName="firstName">
				</mat-form-field>

				<mat-form-field>
					<mat-label>Last name</mat-label>
					<input matInput type="text" formControlName="lastName">
				</mat-form-field>

				<mat-form-field>
					<mat-label>Email</mat-label>
					<input matInput type="email" formControlName="email">
				</mat-form-field>

				<mat-form-field>
					<mat-label>Dietary Restrictions</mat-label>
					<textarea matInput formControlName="dietaryRestrictions"></textarea>
				</mat-form-field>
			</form>
		</div>
	  </div>

	  <button type="submit" [disabled]="!rsvpForm.valid">Submit</button>
</form>
