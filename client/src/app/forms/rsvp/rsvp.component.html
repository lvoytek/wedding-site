<form class="rsvp-form" [formGroup]="rsvpForm" (ngSubmit)="onSubmit()">
	<div class="form-section">
		<mat-form-field>
			<mat-label>First name</mat-label>
			<input matInput type="text" formControlName="firstName">
		</mat-form-field>

		<mat-form-field>
			<mat-label>Last name</mat-label>
			<input matInput type="text" formControlName="lastName">
		</mat-form-field>

		<mat-form-field>
			<mat-label>Email</mat-label>
			<input matInput type="email" formControlName="email">
		</mat-form-field>

		<mat-form-field>
			<mat-label>Dietary Restrictions</mat-label>
			<textarea matInput formControlName="dietaryRestrictions"></textarea>
		</mat-form-field>

		<mat-checkbox formControlName="attending">
			Attending
		</mat-checkbox>
	</div>


	<div formArrayName="guests">
		<h2>Guests</h2>
		<button type="button" (click)="addGuest()">+ Add another guest</button>

		<div *ngFor="let guest of guests; let i = index">
			<form [formGroup]="guest">
				<div class="form-section">
					<mat-form-field>
						<mat-label>First name</mat-label>
						<input matInput type="text" formControlName="firstName">
					</mat-form-field>

					<mat-form-field>
						<mat-label>Last name</mat-label>
						<input matInput type="text" formControlName="lastName">
					</mat-form-field>

					<mat-form-field>
						<mat-label>Email</mat-label>
						<input matInput type="email" formControlName="email">
					</mat-form-field>

					<mat-form-field>
						<mat-label>Dietary Restrictions</mat-label>
						<textarea matInput formControlName="dietaryRestrictions"></textarea>
					</mat-form-field>
				</div>
			</form>
		</div>
	  </div>
</form>

<div class="submit-container">
	<button class="submit-button" (click)="onSubmit()" mat-flat-button color="accent" [disabled]="!rsvpForm.valid">Submit</button>
</div>
